import numpy as np
import matplotlib.pyplot as plt
import matplotlib.animation as animation
import random
import seaborn as sns
from math import sqrt
from scipy.stats import shapiro

#notes ancs
notes = [15.00, 13.50, 8.00, 11.50, 7.25, 14.00, 5.75, 7.00, 18.50, 13.25, 13.00, 7.50, 16.50, 13.00, 16.00, 15.50, 13.50, 16.00, 15.00, 16.50, 14.75, 15.50, 10.00, 16.75, 13.00, 16.50, 5.50, 8.50, 10.50, 12.00, 11.00, 9.50, 12.00, 9.75, 17.50, 7.50, 9.75, 10.50, 11.00, 11.50, 17.50, 14.50, 11.50, 15.75, 5.25, 10.50, 8.50, 14.25, 7.50, 10.50, 12.00, 11.75, 11.25, 6.75, 13.50, 10.25, 12.75, 14.50, 13.50, 11.50, 11.25, 5.00, 11.25, 12.00, 16.50, 11.50, 15.75, 13.00, 12.25, 7.00, 12.75, 15.00, 14.50, 11.00, 17.00, 7.50, 13.00, 16.00, 13.00, 12.50, 13.50, 12.00, 16.75, 14.00, 13.75, 10.75, 12.25, 9.50, 12.00, 8.00, 11.50, 11.00, 13.00, 12.50, 8.75, 13.00, 17.00, 7.75, 11.50, 11.25, 5.00, 13.00, 11.25, 12.00, 17.50, 14.50, 14.50, 15.00, 15.00, 16.00, 8.75, 13.50, 10.25, 6.75, 11.75, 13.50, 15.00, 11.50, 17.75, 12.75, 17.00, 14.50, 8.00, 13.50, 15.50, 12.50, 8.50, 14.50, 9.00, 13.00, 14.00, 8.00, 12.50, 14.50, 11.50, 17.00, 7.50, 11.50, 5.00, 11.50, 15.00, 14.50, 9.50, 16.00, 10.50, 11.50, 17.50, 7.75, 15.00, 14.50, 11.00, 14.50, 8.75, 15.75, 14.50, 11.00, 11.50, 13.75, 8.00, 12.00, 9.75, 17.00, 12.50, 14.25, 14.00, 10.00, 8.00, 12.00, 12.25, 13.75, 7.50, 14.25, 7.00, 13.75, 16.50, 13.00, 12.00, 10.50, 9.00, 12.00, 17.75, 8.25, 14.50, 13.00, 14.50, 15.00, 12.00, 11.00, 9.50, 12.00, 13.00, 12.50, 16.00, 12.00, 13.50, 7.00, 14.50, 8.50, 15.50, 13.75, 12.50, 8.50, 16.00, 11.75, 9.00, 10.50, 15.00, 14.00, 11.00, 14.00, 9.00, 12.00, 13.00, 12.75, 8.50, 9.50, 9.00, 15.50, 16.00, 12.00, 14.50, 8.25, 10.25, 11.00, 14.50, 12.50, 5.75, 15.00, 13.50, 14.50, 12.50, 8.75, 12.00, 10.75, 8.00] 


n = len(notes)
sns.histplot(notes, kde=False, bins=15)
stat, p_value = shapiro(notes)

print(f"Statistique du test : {stat}")
print(f"P-valeur : {p_value}")

# Ajouter des labels et un titre
plt.xlabel('Valeurs')
plt.ylabel('Densité')
plt.title('Histogramme de densité')
plt.text(x=1.2*sqrt(n), y=1.2*n, s=f"Test de Shapiro-Wilk\np-valeur : {p_value:.4f}", 
         bbox=dict(facecolor='white', alpha=0.5))
plt.show()
